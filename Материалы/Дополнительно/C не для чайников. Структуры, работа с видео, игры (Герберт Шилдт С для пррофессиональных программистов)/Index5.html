<html>

<head>
   <TITLE>C</TITLE>
</head>

<body bgcolor="#00ffff">
<a name="top"></a>
<p><div align="center"><b><font size="+1" face="Arial"><a name="5">Глава 5. Видеоигры </a></font></b></div></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:33.0pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Видеоигры приносят вам либо радость, либо огорчения.
Это зависит от вашего отношения к ним. Однако программирование видеоигр не
только интересно, но и полезно. Фактически, одним из лучших способов обогащения
является разработка удачных видеоигр. Хорошая игра, объединяющая логику с живой
графикой, доставит большое удовольствие игроку. Лучшие из видеоигр, включающие
элементы искусственного интеллекта, позволяют компьютеру вести диалог с игроком
и &quot;осмысленно&quot; реагировать на ввод данных.

<p class=MsoNormal style='0cm;margin-right:4.4pt;366.3pt;
margin-left:27.5pt;text-align:justify;text-indent:33.0pt;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>В
этой главе вы ознакомитесь с некоторыми основами техники программирования
видеоигр, что позволит вам разрабатывать собственные игры. Вы научитесь
&quot;оживлять&quot; различные объекты на экране вашего терминала. Разработка
видеоигр явится для вас отправной точкой. Многие принципы, используемые при
разработке видеоигр, будут полезны для вас и увеличат ваш интерес к работе. Для
использования программ, приводимых в качестве примера в этой главе, необходим
компьютер IBM PC или другой, совместимый с ним, в состав которого входят
адаптеры CGA, EGA или VGA. Многие из функций, используемых в данной главе,
рассматривались в главе 4. Поэтому, если вы еще не изучили главу 4, то вам
придется сделать это сейчас. 

<!--<br><br><a href="#top">наверх</a>-->
<p><div align="center"><b><font size="+1"><i><a name="5-1">Спрайты
</a></i></font></b></div></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Многие видеоигры, в которых игрок управляет объектами,
атакующими другие объекты, управляемые программой или защищающимися от них,
включают два класса активных объектов: среду (представляющую для нас
маломеняющееся поле игры) и спрайты. СПРАЙТ - это небольшой подвижный объект,
который движется по полю видеоигры по определенным правилам с заданной целью.
Например, когда космический корабль стреляет фотонными торпедами, изображение
торпеды реализуется спрайтом. В рамках данной главы под спрайтом будем понимать
фигуру, определенную некоторыми замкнутыми отрезками (многоугольник). Хотя, в
общем случае спрайт может изображаться любым образом, например, в виде
окружности. В примерах, рассматриваемых в данной главе, определять спрайт будем
в виде двумерного массива целых чисел. Например, спрайт, состоящий из 4
отрезков может быть описан следующим массивом

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
11.1pt;margin-left:159.5pt;mso-hyphenate:none;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt'>int sprite [4][4];

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Первая размерность массива определяет количество
отрезков спрайта, а вторая - координаты конечных точек отрезков (подобный
способ описания объектов подробно рассмотрен в главе 4). Начальные и конечные
координаты отрезков задаются в следующей последовательности:

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
11.1pt;margin-left:126.5pt;mso-hyphenate:none;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt'>start_x, start_y, end_x,
end_y

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Отрезок, входящий в спрайт, с координатами конечных
точек 0,0 и 0,10 может быть описан следующим массивом:

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
0cm;margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>sprite[0][0] = 0;<span
style="mso-spacerun: yes">   </span>/* start_x */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>sprite[0][1] = 0;<span
style="mso-spacerun: yes">   </span>/* start_y */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>sprite[0][2] = 0;<span
style="mso-spacerun: yes">   </span>/* end_x */

<p class=MsoNormal style='0cm;margin-right:4.4pt;222.0pt;
margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>sprite[0][3] = 10;<span
style="mso-spacerun: yes">  </span>/* end_y */ 
<!--<br><br><a href="#top">наверх</a>-->
<p><div align="center"><b><font size="+1"><i><a name="5-2">Поле игры
</a></i></font></b></div></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;477.3pt;
margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>В
большинстве видеоигр поле игры представляет собой неменяющееся (медленно меняющееся)
изображение, на котором происходит действие игры. Поле игры изображается
отдельными программами, загружаемыми в начале игры, поэтому нет необходимости
загружать все программы верхнего уровня для динамической генерации игрового
поля. Такой подход описан в данной главе. Программы, используемые для генерации
изображений, их хранения в файле на диске и доступа к ним, описаны в главе 4.
Они загружают эти изображения по мере необходимости. 
<!--<br><br><a href="#top">наверх</a>-->
<p><div align="center"><b><font size="+1"><i><a name="5-3">Мультипликация на экране </a></i></font></b></div></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Ключевым и наиболее впечатляющим моментом видеоигры
является мультипликация. Мультипликация - основной отличительный признак
видеоигр. Основной метод мультипликации прост: уничтожить изображение предмета
и создать его вновь, но с некоторым небольшим смещением. Скорость этого
процесса должна быть очень высокой. Это может быть обеспечено путем
непосредственного доступа к видеопамяти дисплея, возможность которого описана в
главе 4.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
0cm;margin-left:27.5pt;.0001pt;text-align:justify;text-indent:
27.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Для повышения качества изображения, быстродействия
операций уничтожения и повторного изображения объекта используется операция
&quot;НЕ-ИЛИ&quot; для двоичного кода каждой точки объекта на экране. Этот
способ обеспечивает возможность быстрого перемещения спрайта по экрану, не
меняя его цвет и размеры, и фактически не уничтожая в памяти терминала данные о
его изображении.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
0cm;margin-left:27.5pt;.0001pt;text-align:justify;text-indent:
27.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Программа, отображающая на экране терминала спрайт,
представляет собой некоторую модификацию функции display_object() из главы 4.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
11.1pt;margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt'>/* отображение объекта на
экране */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void
display_object(ob, sides,cc)

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>double ob[][4];

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int sides,cc;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>register int i;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:66.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for(i=0; i&lt;sides;
i++)

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>line((int)ob[i][0],
(int)ob[i][1],

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:104.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>(int)ob[i][2],
(int)ob[i][3], cc | 128);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Как вы могли убедиться, функция display_object()
рисует все линии объекта, используя приведенную в главе 4 функцию line(). Заметим,
что значение номера цвета складывается по схеме &quot;ИЛИ&quot; с числом 128 в
команде установки старших битов. Это приводит к тому, что в функции mempoint(),
используемой в функции line() для помещения изображения каждой точки,
выполняется сложение по схеме &quot;НЕ-ИЛИ&quot; двоичного кода. Это позволяет
спрайту всегда оставаться видимым независимо от собственного цвета и цвета
фона.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
11.1pt;margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>Для демонстрации мультипликации введите в ваш компьютер следующую
программу. Эта программа позволит вам перемещать спрайт (в виде маленького
крестика размером 6x6 точек растра) по экрану, используя клавиши управления
курсором. Если ваш компьютер не включает функцию bioskey(), то просмотрите
главу 1 для определения версии компилятора, которая вам необходима.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
22.2pt;margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt'>#include &quot;dos.h&quot; 

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>#include &quot;stdio.h&quot;

<p class=MsoNormal style='margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void mode(), line();

<p class=MsoNormal style='margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void mempoint(),
palette();

<p class=MsoNormal style='margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void
display_object(),update_object();

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>unsigned char read_point();

<p class=MsoNormal style='margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int sprite[2][4] = 

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>3,0,3,5,

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>0,3,5,3

<p class=MsoNormal style='margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>;

<p class=MsoNormal style='margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>main()

<p class=MsoNormal style='margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>union k 

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char c[2];

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int i;

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><span
style="mso-spacerun: yes"> </span>key;

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>int deltax=0,deltay=0;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>mode(4);
/*m установка 4 режима графики CGA/EGA */

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>palette(0); /* палитра 0 */

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>display_object(sprite,2,1);

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>do 

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>key.i = bioskey(0);

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax=0;deltay=0;

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(!key.c[0])
switch(key.c[1]) 

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 75: /* влево */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= -1;

<p class=MsoNormal style='margin-left:137.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 77: /* вправо */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= 1;

<p class=MsoNormal style='margin-left:137.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 72: /* вверх */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 80: /* вниз */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= 1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>case
71: /* вверх и влево */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>case
73: /* вверх и вправо */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= 1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 79: /* вниз и
влево */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= 1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal align=center style='22.2pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>case 81: /* вниз и вправо */ 

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= 1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= 1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* стирание текущей
позиции спрайта */

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>display_object(sprite,2,1);

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if
(is_legal(sprite,deltax,deltay,2))

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(sprite,deltax,deltay,2);

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* перезапись спрайта
в новую позицию */

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>displey_object(sprite2,1);

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><span
style="mso-spacerun: yes">   </span>while (key.c[0]!='q');

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>getchar();

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>mode(2);

<p class=MsoNormal style='margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Выбор палитры */

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void palette(pnum)

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int pnum;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>union REGS r;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>r.h.bh
= 1; /* код 4-го графического режима */

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>r.h.bl = pnum;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>r.h.ah = 11;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int86(0x10, &amp;r,
&amp;r);

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Выбор режима */

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void mode(mode_code)

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int mode_code;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>union REGS r;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>r.h.al = mode_code;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>r.h.ah = 0;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int86(0x10, &amp;r,
&amp;r);

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:33.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Изображение линии
заданного цвета с использованием

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>алгоритма Брезенхама
*/

<p class=MsoNormal style='margin-left:38.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void
line(startx,starty,endx,endy,color)

<p class=MsoNormal style='margin-left:38.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int
startx,starty,endx,endy,color;

<p class=MsoNormal style='margin-left:38.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>register int
t,distance;

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int
x=0,y=0,delta_x,delta_y;

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>int incx,incy;

<p class=MsoNormal style='margin-left:38.5pt;mso-hyphenate:none;tab-stops:362.5pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>/*
Вычисление расстояния в обоих направлениях<span style='mso-tab-count:1'>                                                     </span>*/

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>delta_x=endx-startx;

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>delta_y=endy-starty;

<p class=MsoNormal style='margin-left:38.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* определение
направления шага,

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>шаг вычисляется либо
по вертикальной, либо по горизонтальной

<p class=MsoNormal style='0cm;margin-right:0cm;22.2pt;
margin-left:55.0pt;mso-hyphenate:none;tab-stops:199.0pt;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>линии<span
style='mso-tab-count:1'>                                                     </span>*/

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (delta_x&gt;0)
incx=1;

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else<span
style="mso-spacerun: yes">  </span>if (delta_x==0) incx=0;

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>else<span style="mso-spacerun: yes"> 
</span>incx= -1;

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (delta_y&gt;0)
incy=1;

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else<span
style="mso-spacerun: yes">  </span>if (delta_y==0) incy=0;

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>else<span style="mso-spacerun: yes"> 
</span>incy= -1;

<p class=MsoNormal style='margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* определение какое
расстояние больше */

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>delta_x=abs(delta_x);

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>delta_y=abs(delta_y);

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if
(delta_x&gt;delta_y) distance=delta_x;

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>else distance=delta_y;

<p class=MsoNormal style='margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Изображение линии
*/

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for (t=0;
t&lt;=distance+1; t++) 

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>mempoint(startx,starty,color);

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x+=delta_x;

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>y+=delta_y;

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (x&gt;distance) 

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x-=distance;

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>startx+=incx;

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (y&gt;distance) 

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>y-=distance;

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>starty+=incy;

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:38.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><span
style="mso-spacerun: yes"> </span>

<p class=MsoNormal style='margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Запись точки в
CGA/EGA */

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void
mempoint(x,y,color_code)

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int x,y,color_code;

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>union mask 

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char c[2];

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int i;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><span
style="mso-spacerun: yes"> </span>bit_mask;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int
i,index,bit_position;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>unsigned char t;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char xor; /*
&quot;исключающее ИЛИ&quot; цвета в случае его

<p class=MsoNormal style='margin-left:143.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>изменения */

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char far *ptr=(char
far *) 0xB8000000; /* точка в

<p class=MsoNormal style='margin-left:66.0pt;text-indent:209.0pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>памяти CGA */ bit_mask.i=0xFF3F; /* 11111111 00111111 в

<p class=MsoNormal style='margin-left:187.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>двоичном виде */

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (x&lt;0 || x&gt;199
|| y&lt;0 || y&gt;319) return;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>xor=color_code &amp;
128; /* проверка, устанавливался ли

<p class=MsoNormal style='margin-left:66.0pt;text-indent:137.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>режим &quot;исключающего ИЛИ&quot; */ color_code=color_code &amp; 127;
/* маска старших битов */

<p class=MsoNormal align=center style='11.1pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>/*<span style="mso-spacerun: yes">  </span>установка
битовой маски и битов режима цвета

<p class=MsoNormal style='0cm;margin-right:0cm;22.2pt;
margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>в правую позицию */ 

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>bit_position=y%4;
/* вычисление нужной позиции

<p class=MsoNormal style='margin-left:71.5pt;text-indent:115.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>в байте */ color_code&lt;&lt;=2*(3-bit_position); /* сдвиг кода цвета

<p class=MsoNormal style='margin-left:71.5pt;text-indent:148.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>в нужную позицию */ bit_mask.i&gt;&gt;=2*bit_position; /* сдвиг битовой
маски в

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:231.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>нужную позицию */

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>/* определение требуемого байта в памяти
терминала */

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>index=x*40+(y%4);

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (x%2) index+=8152;
/* если нечетный, используется

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:214.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>второй блок */

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>/* запись цвета */

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>if
(!xor)<span style="mso-spacerun: yes">   </span>/* режим изменения цвета */

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>t=*(ptr+index) &amp;
bit_mask.c[0];

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>*(ptr+index)=t|color_code;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else 

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>t=*(ptr+index) |
(char)0;

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>*(ptr+index)=t &amp;
color_code;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* чтение байта из
оперативной памяти CGA/EGA */

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>unsigned char
read_point(x,y)

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int x,y;

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>union mask 

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char c[2];

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int i;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><span
style="mso-spacerun: yes"> </span>bit_mask;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int
i,index,bit_position;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>unsigned char t;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char xor; /*
&quot;исключающее ИЛИ&quot; цвета в случае его

<p class=MsoNormal style='margin-left:143.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>изменения */

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char far *ptr=(char
far *) 0xB8000000; /* точка в

<p class=MsoNormal style='margin-left:66.0pt;text-indent:209.0pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>памяти CGA */ bit_mask.i=3; /* 11111111 00111111 в

<p class=MsoNormal style='margin-left:187.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>двоичном виде */

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>if (x&lt;0 || x&gt;199 || y&lt;0 ||
y&gt;319) return 0;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>/*<span
style="mso-spacerun: yes">  </span>установка битовой маски и битов режима цвета

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>в правую позицию */

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>bit_position=y%4;
/* вычисление нужной позиции

<p class=MsoNormal style='margin-left:71.5pt;text-indent:115.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>в байте */ bit_mask.i&lt;&lt;=2*(3-bit_position);

<p class=MsoNormal style='11.1pt;margin-right:0cm;
0cm;margin-left:71.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* определение
требуемого байта в памяти терминала */

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>index=x*40+(y&gt;&gt;4);

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (x%2) index+=8152;
/* если нечетный, используется

<p class=MsoNormal style='0cm;margin-right:0cm;22.2pt;
margin-left:214.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>второй блок */ 

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* запись цвета */

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>t=*(ptr+index) &amp;
bit_mask.c[0];

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>t&gt;&gt;=2*(3-bit_position);

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return t;

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>/* отображение объекта на экране */

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void
display_object(ob, sides,cc)

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>double ob[][4];

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int sides,cc;

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>register int i;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for(i=0; i&lt;sides;
i++)

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>line((int)ob[i][0],
(int)ob[i][1],

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>(int)ob[i][2],
(int)ob[i][3], cc|128);

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Смещение
(параллельный перенос) объекта в направлении,

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>определенном x и y

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>*/

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void update_object(ob,
x, y, sides)

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;tab-stops:175.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>int
ob[][4];<span style='mso-tab-count:1'>                                  </span>/*
объект */

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;tab-stops:175.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>int
x, y;<span style='mso-tab-count:1'>                                        </span>/*
направление смещения */

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>register
int sides; /* количество сторон объекта */

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>sides--;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for(; sides&gt;=0;
sides--)

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>ob[sides][0] += x;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>ob[sides][1] += y;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>ob[sides][2] += x;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>ob[sides][3] += y;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Определение
допустимости перемещения объекта.

<p class=MsoNormal style='0cm;margin-right:66.0pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>Возвращает 1, если
перемещение допустимо, 0- в противном случае

<p class=MsoNormal style='0cm;margin-right:66.0pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>*/

<p class=MsoNormal style='0cm;margin-right:66.0pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void is_legal(ob, x,
y, sides)

<p class=MsoNormal style='0cm;margin-right:66.0pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;tab-stops:187.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>int
ob[][4];<span style='mso-tab-count:1'>                                        </span>/*
объект */

<p class=MsoNormal style='0cm;margin-right:66.0pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;tab-stops:187.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>int
x, y;<span style='mso-tab-count:1'>                                              </span>/*
шаг перемещения */

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;tab-stops:187.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>int
sides;<span style='mso-tab-count:1'>                                          </span>/*
число сторон объекта */

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(x==0 &amp;&amp;
y==0)

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;tab-stops:167.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>return
1;<span style='mso-tab-count:1'>                         </span>/* пустое
перемещение всегда допустимо*/

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>sides--;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for(; sides&gt;=0;
sides--)

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>/* контроль выхода за допустимую область
*/ if(ob[sides][0]+x&gt;199 || ob[sides][1]+y&gt;319)

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 0;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(ob[sides][2]+x&lt;0
|| ob[sides][3]+y&lt;0)

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 0;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 1;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:33.0pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Рассмотрим кратко, как работает эта программа. Клавиши
управления курсором (клавиши со стрелками и клавиши &lt;HOME&gt;, &lt;PGUP&gt;,
&lt;END&gt; и &lt;PGDN&gt;) определяют положение спрайта. При нажатии клавиши
спрайт смещается на одну точку растра в указанном направлении. Клавиши-стрелки
управляют горзонтальными и вертикальными перемещениями, остальные -
диагональными. Функция is_legal() определяет возможность дальнейшего
перемещения спрайта в выбранном направлении. Если возможен выход спрайта за
пределы границ экрана, то такое перемещение запрещается. Все остальные функции
этой программы работают, как описано в главе 4.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
333.0pt;margin-left:27.5pt;text-align:justify;text-indent:33.0pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>Обычно необходимо сохранять размер объекта, который вы
&quot;оживляете&quot; (особенно небольшого) для того, чтобы его можно было
перерисовывать с высокой скоростью. Это обеспечивает плавность движения при
мультипликации. Если объект достаточно большой, то его движение будет
дискретно. При разработке видеоигр необходимо так подбирать размеры спрайта,
чтобы возможности компьютера и адаптера реализовывались оптимальным образом. 
<!--<br><br><a href="#top">наверх</a>-->
<p><div align="center"><b><font size="+1"><i><a name="5-4"> Мультипликация спрайта </a></i></font></b></div></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Передвижение спрайта по экрану составляет только
половину возможностей его &quot;оживления&quot;. В основном спрайт будет
использоваться на экране для того, чтобы создавать иллюзию движения. Например,
спрайт, который выглядит подобно человеку, может передвигать ногами, как будто
он идет. Этот тип &quot;оживления&quot; является наиболее впечатляющим (и
наиболее легким). Для обеспечения такой возможности разрабатываются два или
более вариантов спрайта, отличие между которыми заключается в том, что
некоторые из частей спрайта отличаются от первоначального его варианта.
Программа последовательно меняет варианты спрайта в процессе его движения по
экрану.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
11.1pt;margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>В качестве примера изменим программу main(), как это показано ниже, и
добавим в нее второй спрайт. Второй спрайт отображает крестик (&quot;+&quot;),
повернутый под углом в 45 градусов. Если вы запустите программу, то будет
создаваться впечатление, что крестик вращается в процессе передвижения по
экрану. Переменная swap используется для выбора типа текущего спрайта.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
0cm;margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int sprite2[2][4] = 

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>0,0,5,5,

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>0,5,5,0

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
0cm;margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>main()

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:71.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>union k 

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:88.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char c[2];

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:88.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int i;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:71.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><span
style="mso-spacerun: yes"> </span>key;

<p class=MsoNormal align=center style='margin-right:4.4pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>int deltax=0,deltay=0; /* направление движения */

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>int swap=0; /* тип спрайта */

<p class=MsoNormal align=center style='margin-right:4.4pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>mode(4); /* установка 4 режима графики CGA/EGA */

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>palette(0); /* палитра 0 */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>display_object(sprite,2,1);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>do 

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:99.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>key.i = bioskey(0);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:99.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax=0;deltay=0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:99.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(!key.c[0])
switch(key.c[1]) 

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:115.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 75: /* влево */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:132.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= -1;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:137.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:115.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 77: /* вправо */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:132.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= 1;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:137.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:115.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 72: /* вверх */

<p class=MsoNormal style='0cm;margin-right:4.4pt;22.2pt;
margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>deltax= -1; 

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 80: /* вниз */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= 1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>case
71: /* вверх и влево */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>case
73: /* вверх и вправо */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= 1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 79: /* вниз и
влево */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= 1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>case
81: /* вниз и вправо */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= 1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= 1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:99.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* стирание текущей
позиции спрайта */

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(!swap)
displey_object(sprite,2,1);

<p class=MsoNormal align=center style='11.1pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>else displey_object(sprite2,2,1);

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if
(is_legal(sprite,deltax,deltay,2)) 

<p class=MsoNormal style='margin-left:121.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(sprite,deltax,deltay,2);

<p class=MsoNormal style='margin-left:121.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(sprite2,deltax,deltay,2);

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>swap= !swap; /* смена
типа спрайта */

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* перезапись спрайта
в новую позицию */

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (!swap)
displey_object(sprite,2,1);

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>else
displey_object(sprite2,2,1);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><span
style="mso-spacerun: yes">   </span>while (key.c[0]!='q');

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>getchar();

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>mode(2);
<!--<br><br><a href="#top">наверх</a>-->
<p><div align="center"><b><font size="+1"><i><a name="5-5">Организация данных в видеоиграх </a></i></font></b></div></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;444.0pt;
margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>Подобно
остальным программам, программы видеоигр включают как операторы, так и данные.
Кроме счета игры и статуса различных, расходуемых в процессе игры ресурсов
(например, количество запущенных фотонных торпед), большинство данных,
используемых в видеоиграх, представляют собой позиции экрана для различных
объектов. Координаты позиций экрана для движущихся объектов должны храниться в
установленных переменных. Информацию о фиксированных объектах игрового поля
целесообразно хранить непосредственно в видеопамяти терминала. Если в процессе
игры потребуется информация для изменения игрового поля (как это часто бывает),
осуществляется доступ к видеопамяти и оттуда считываются массивы с информацией
об измененном объекте. 
<!--<br><br><a href="#top">наверх</a>-->
<p><div align="center"><b><font size="+1"><i><a name="5-6">Контроль границ
</a></i></font></b></div></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;421.8pt;
margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>В
большинстве видеоигр существуют спрайты, которые находятся под управлением
пользователя. Обычно игроку не разрешается перемещать спрайт через некоторые
объекты игрового поля или через другой спрайт. Есть два способа ограничения
местонахождения спрайта. В первом способе в установленных переменных хранятся
граничные точки области, где разрешено движение спрайта. При передвижении
спрайта по экрану осуществляется контроль на выход за пределы этих допустимых
значений. Однако этот метод обладает довольно малой реактивностью и для игр с
большим количеством объектов неэффективен. Более удобным способом является
простая проверка области экрана на предмет нахождения в ней какого-либо объекта
путем контроля соответствующей области видеопамяти. Это обеспечивается тем, что
информация об игровом поле уже находится в видеопамяти и бессмысленно ее
где-либо дублировать. 
<!--<br><br><a href="#top">наверх</a>-->
<p><div align="center"><b><font size="+1"><i><a name="5-7">Изменение цвета.
</a></i></font></b></div></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>В процессе игры удобно оперировать объектами разного
цвета. Например, красный цвет может отображать границы непересекаемых областей,
зеленый цвет используется для вашего спрайта, а желтый

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>-
для спрайта противника. Хотя это можно сделать с использованием переменных,
описывающих эти объекты, часто бывает удобнее заранее определять для объекта
его цвет. Это не только упростит процесс программирования видеоигры, но и
сделает ее более быстродействующей. Например, если в пурпурный цвет окрашена
мина, то считается, что вы на ней подорвались лишь в том случае, если одна из
точек вашего спрайта окрашивается в пурпурный цвет.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
333.0pt;margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>Программирование в цвете видеоигр имеет длинную историю. Например,
первая игра &quot;пинг-понг&quot; имела только два цвета: белый и черный. В
этой игре белый цвет был несовместим с белым (они отталкивались), но можно было
двигаться по черному игровому полю. Таким образом, белый шарик мог перемещаться
по черному полю, если ударялся белой ракеткой или отражался от белой стены
(линии) позади ракетки. Эти основные принципы использовались и тогда, когда в
игре стали появляться и другие цвета. После того, как объекты видеоигр стали
программироваться в цвете, разработка программ обработки игровых ситуаций
значительно упростилась и увеличилась скорость их работы. 
<!--<br><br><a href="#top">наверх</a>-->
<p><div align="center"><b><font size="+1"><i><a name="5-8">Табло счета активного противника </a></i></font></b></div></p>


<p class=MsoNormal style='0cm;margin-right:4.4pt;499.5pt;
margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>Роль
компьютера в игре во многом зависит от того, является ли эта игра для одного
человека или для двоих. Если в игре участвуют два человека, компьютеру
отводится роль арбитра и функции табло для отображения счета. Однако, в игре,
где участвует один игрок, компьютер становится активным противником. С точки
зрения программирования разработка игр, где компьютер выступает в роли
противника, значительно интересней. 
<!--<br><br><a href="#top">наверх</a>-->
<p><div align="center"><b><font size="+1"><i><a name="5-9">Разработка видеоигры </a></i></font></b></div></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>В
этом параграфе мы опишем разработку видеоигры, которая иллюстрирует многие
принципы, описанные в данной главе.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
11.1pt;margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;
text-autospace:none'><u><span style='font-size:10.0pt'>Описание игры <o:p></o:p></span></u></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Первым шагом в процессе создания видеоигры является
определение ее природы и правил, по которым она ведется. Программа, описанная
здесь, представляет собой компьютеризованную версию традиционной детской игры
&quot;салочки&quot;. Игрок и компьютер управляют каждый своим
&quot;человеком&quot;. Один из них догоняет другого, и, если у них произошел
контакт, происходит смена амплуа. Победителем в игре становится тот, кто
больший промежуток времени был в положении догоняемого.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
0cm;margin-left:27.5pt;.0001pt;text-align:justify;text-indent:
27.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Cчет определяется путем фиксации игрового времени:
после каждой прошедшей секунды добавляется одно очко тому, кто находится в роли
догоняемого. Счет непрерывно отображается в углу экрана. Игра заканчивается,
когда один из игроков набирает 999 очков. Для удобства игра может быть
закончена путем нажатия клавиши &lt;Q&gt;.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
266.4pt;margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>Игрок управляет движением спрайта посредством клавиш управления
курсором. Игровое поле в данном случае не создается самой программой игры. Для
этих целей используются программы рисования (&quot;программы-художники&quot;),
описанные в главе 4. Поэтому, вы можете самостоятельно создавать различную
среду игры. 

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><u><span style='font-size:10.0pt'>Использование цвета и граничные
условия. <o:p></o:p></span></u></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Игра &quot;салочки&quot; использует программирование в
цвете для идентификации различных объектов. Например, вы можете сделать спрайт
игрока зеленым, спрайт компьютера - желтым, а границы поля игры - красными. В
соответствии с этим подходом, нет необходимости хранить отдельные массивы
данных в разделяемой области программы, т.к. подпрограммы могут просто
контролировать содержимое видеопамяти. В данном случае, так же, значительно
упрощается процесс ограничения области движения спрайтов красной линией. Для
этой цели необходимо немного изменить функцию is_legal(), описанную ранее, как
это показано ниже.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Определение
допустимости перемещения объекта.

<p class=MsoNormal style='0cm;margin-right:61.6pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>Возвращает 1, если
перемещение допустимо, 0 - в противном случае

<p class=MsoNormal style='0cm;margin-right:61.6pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>*/

<p class=MsoNormal style='0cm;margin-right:61.6pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void is_legal(ob, x,
y, sides)

<p class=MsoNormal style='0cm;margin-right:61.6pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;tab-stops:187.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>int
ob[][4];<span style='mso-tab-count:1'>                                        </span>/*
объект */

<p class=MsoNormal style='0cm;margin-right:61.6pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;tab-stops:187.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>int
x, y;<span style='mso-tab-count:1'>                                              </span>/*
шаг перемещения */

<p class=MsoNormal style='0cm;margin-right:61.6pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;tab-stops:175.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>int
sides;<span style='mso-tab-count:1'>                                     </span>/*
число сторон объекта */

<p class=MsoNormal style='0cm;margin-right:61.6pt;
0cm;margin-left:66.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:61.6pt;
0cm;margin-left:66.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(x==0 &amp;&amp;
y==0)

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;tab-stops:155.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>return
1;<span style='mso-tab-count:1'>                    </span>/* пустое
перемещение всегда допустимо*/

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>sides--;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for(; sides&gt;=0;
sides--)

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* контроль выхода за
допустимую область */ if(ob[sides][0]+x&gt;199 || ob[sides][1]+y&gt;319)

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 0;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(ob[sides][2]+x&lt;0
|| ob[sides][3]+y&lt;0)

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 0;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* контроль
препятствий */

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(read_point(ob[sides][0]+x,
ob[sides][1]+y)==2)

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 0;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(read_point(ob[sides][2]+x,
ob[sides][3]+y)==2)

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 0;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 1;

<p class=MsoNormal style='0cm;margin-right:61.6pt;
0cm;margin-left:66.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;122.1pt;
margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>Напомним
коды различных цветов: желтый - 1, красный - 2, зеленый - 3, черный (фон) - 0. 

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><u><span style='font-size:10.0pt'>Описание спрайта. <o:p></o:p></span></u></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>Спрайт,
используемый в данной игре, будет похож на бегущего человека.

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:27.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>_________________________________________________________________

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:33.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>Вид спрайта на стр.
187 не может быть воспроизведен имеющимися средствами. (Ред. пер.
И.Бычковский.)

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:27.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>_________________________________________________________________

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>В программе существует два типа спрайта. Во втором
спрайте ноги &quot;человека&quot; сжаты вместе. Быстрая смена между
изображениями двух типов спрайта создает иллюзию бегущего человека.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
0cm;margin-left:27.5pt;.0001pt;text-align:justify;text-indent:
27.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Спрайт пользователя начинает игру в верхнем левом углу
экрана, а спрайт компьютера - в нижнем правом. Описание спрайтов приведено
ниже.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int human[4][4] = /*
это ваш спрайт */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>1,<span
style="mso-spacerun: yes">     </span>6,<span style="mso-spacerun: yes">    
</span>6,<span style="mso-spacerun: yes">     </span>6,

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>4,<span
style="mso-spacerun: yes">     </span>2,<span style="mso-spacerun: yes">    
</span>3,<span style="mso-spacerun: yes">     </span>9,

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>9,<span
style="mso-spacerun: yes">     </span>1,<span style="mso-spacerun: yes">    
</span>6,<span style="mso-spacerun: yes">     </span>6,

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>9,<span
style="mso-spacerun: yes">     </span>11,<span style="mso-spacerun: yes">   
</span>6,<span style="mso-spacerun: yes">     </span>6

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int human2[4][4] =

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>1,<span
style="mso-spacerun: yes">     </span>6,<span style="mso-spacerun: yes">    
</span>6,<span style="mso-spacerun: yes">     </span>6,

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>4,<span
style="mso-spacerun: yes">     </span>2,<span style="mso-spacerun: yes">    
</span>3,<span style="mso-spacerun: yes">     </span>9,

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>9,<span
style="mso-spacerun: yes">     </span>3,<span style="mso-spacerun: yes">    
</span>6,<span style="mso-spacerun: yes">     </span>6,

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>9,<span
style="mso-spacerun: yes">     </span>9,<span style="mso-spacerun: yes">    
</span>6,<span style="mso-spacerun: yes">     </span>6

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int computer[4][4] =
/* это<span style="mso-spacerun: yes">  </span>спрайт компьютера */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>180,<span
style="mso-spacerun: yes">     </span>6,<span style="mso-spacerun: yes">    
</span>185,<span style="mso-spacerun: yes">     </span>6,

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>183,<span
style="mso-spacerun: yes">     </span>2,<span style="mso-spacerun: yes">    
</span>182,<span style="mso-spacerun: yes">     </span>9,

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>188,<span
style="mso-spacerun: yes">     </span>1,<span style="mso-spacerun: yes">    
</span>185,<span style="mso-spacerun: yes">     </span>6,

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>188,<span
style="mso-spacerun: yes">     </span>11,<span style="mso-spacerun: yes">   
</span>185,<span style="mso-spacerun: yes">     </span>6

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int computer2[4][4] =

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>180,<span
style="mso-spacerun: yes">     </span>6,<span style="mso-spacerun: yes">    
</span>185,<span style="mso-spacerun: yes">     </span>6,

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>183,<span
style="mso-spacerun: yes">     </span>2,<span style="mso-spacerun: yes">    
</span>182,<span style="mso-spacerun: yes">     </span>9,

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>188,<span
style="mso-spacerun: yes">     </span>3,<span style="mso-spacerun: yes">    
</span>185,<span style="mso-spacerun: yes">     </span>6,

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>188,<span
style="mso-spacerun: yes">     </span>9,<span style="mso-spacerun: yes">    
</span>185,<span style="mso-spacerun: yes">     </span>6

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>; 
<!--<br><br><a href="#top">наверх</a>-->
<p><div align="center"><b><font size="+1"><i><a name="5-10">Тело главной программы </a></i></font></b></div></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>После
того как вы научитесь разрабатывать собственные видеоигры, вы поймете, что все
они имеют одну главную общую деталь - программу, управляющую игрой. Алгоритм
таких программ довольно-таки сходен для различных видеоигр. Главная программа
генерирует движение объектов по экрану, контролирует нажатие клавиш
пользователем и реагирует на них, проверяет допустимость заданных перемещений,
подсчитывает набранные очки и отображает счет, последовательно вызывает функции
отображения объектов на экране.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
11.1pt;margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt'>int directx,directy; /*
направление<span style="mso-spacerun: yes">  </span>*/

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>main()

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:71.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>union k 

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:88.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char c[2];

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:88.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int i;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:71.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><span
style="mso-spacerun: yes"> </span>key;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int deltax=0,deltay=0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int swaph=0,swapc=0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int it=COMPUTER;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>long
htime,ctime,starttime,curtime; /* таймер счета */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int count;

<p class=MsoNormal align=center style='margin-right:4.4pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>mode(4); /* установка 4 режима графики CGA/EGA */

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>palette(0); /* палитра 0 */

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>load_pic(); /* ввод игрового поля */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>time(&amp;starttime);
/* установка времени */

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>htime=ctime=0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>display_object(human,4,1);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>display_object(computer,4,3);

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>count=0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* главный цикл игры
*/

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>do 

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* вычисление текущего
счета<span style="mso-spacerun: yes">  </span>*/

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>time(&amp;curtime);

<p class=MsoNormal align=center style='margin-right:4.4pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>if (it==COMPUTER) htime+=curtime-starttime;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else
ctime+=curtime-starttime;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>time(&amp;starttime);

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>show_score(it,htime,ctime);

<p class=MsoNormal align=center style='margin-right:4.4pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>if (bioskey(1))<span style="mso-spacerun: yes"> 
</span>/* если нажата клавиша */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:99.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=directy=IDLE;
/* устанавливает

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:170.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>направление
перемещения */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:99.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>key.i = bioskey(0);

<p class=MsoNormal style='0cm;margin-right:4.4pt;22.2pt;
margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>deltax=0;deltay=0; 

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(!key.c[0])
switch(key.c[1]) 

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 75: /* влево */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directy=LEFT;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 77: /* вправо */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay=1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directy=RIGHT;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 72: /* вверх */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=UP;

<p class=MsoNormal style='margin-left:137.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=UP;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 80: /* вниз */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax=1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=DOWN;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>case
71: /* вверх и влево */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directy=LEFT;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=UP;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>case
73: /* вверх и вправо */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay=1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directy=RIGHT;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=UP;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 79: /* вниз и
влево */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directy=LEFT;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax=1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=DOWN;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>case
81: /* вниз и вправо */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay=1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directy=RIGHT;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax=1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=DOWN;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='margin-right:4.4pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* смена типа спрайта
игрока<span style="mso-spacerun: yes">  </span>*/

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>if
(!swaph) display_object(human,4,1);

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else
display_object(human2,4,1);

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>if
(is_legal(human,deltax,deltay,4)) 

<p class=MsoNormal style='margin-left:110.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(human,deltax,deltay,4);

<p class=MsoNormal style='margin-left:110.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(human2,deltax,deltay,4);

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>/*
проверяет: попался ли убегающий */

<p class=MsoNormal align=center style='22.2pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>if (!count &amp;&amp; tag(human,computer))<span
style="mso-spacerun: yes">  </span>

<p class=MsoNormal style='margin-left:110.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>it= !it; /* смена
амплуа */

<p class=MsoNormal style='margin-left:110.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>count=6;

<p class=MsoNormal align=center style='22.2pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>swaph= !swaph; /* смена фигуры имитирующей
бег */

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* изображение
&quot;человека&quot; в новой позиции */

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>if
(!swaph) displey_object(human,4,1);

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>else displey_object(human2,4,1);

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (!swapc)
display_object(computer,4,3);

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>else display_object(computer2,4,3);

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* генерация движения
спрайта компьютера */

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (it==COMPUTER)

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>it_comp_move(computer,computer2,human,4);

<p class=MsoNormal style='margin-left:82.5pt;text-indent:11.0pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>else not_it_comp_move(computer,computer2,directx,directy,4);

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (!count &amp;&amp;
tag(human,computer)) 

<p class=MsoNormal style='margin-left:110.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>it= !it;

<p class=MsoNormal style='margin-left:110.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>count=6;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* компьютер догоняет;
изменение координаты Х на 2

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>так,
чтобы быстрей стать догоняемым

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>*/

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (is_legal(computer,
2, 0, 4))

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:126.5pt;text-indent:5.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>update_object(computer, 2, 0, 4); update_object(computer2, 2, 0, 4);

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(computer,
-2, 0, 4);

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(computer2,
-2, 0, 4);

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>swapc = !swapc; /*
заменить тип спрайта */

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* вывод на экран
спрайта компьютера */

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(!swapc)
display_object(computer, 4, 3);

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;tab-stops:154.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>else<span
style='mso-tab-count:1'>                      </span>display_object(computer2,
4, 3);

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(count) count--;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>while (key.c[0] !='q'
&amp;&amp; htime&lt;999 &amp;&amp; ctime&lt;999);

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>mode(2);

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(ctime&gt;htime)

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>printf(&quot;Компьютер
выиграл!&quot;);

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>printf(&quot;Вы
победили!&quot;);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><span
style="mso-spacerun: yes"> </span>

<p class=MsoNormal style='0cm;margin-right:4.4pt;22.2pt;
margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>В
теле главной программы экран терминала устанавливается в 4-й графический режим,
выбирается палитра 0 и инициализируются переменные счета игры. После этого оба
спрайта отображаются в своих исходных позициях. 

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Переменная htime содержит значение счета игрока, а
ctime - компьютера. Переменные swapc и swaph предназначены для указания типа
спрайта. Переменные deltax и deltay содержат изменения значений координат после
очередного нажатия клавиш игроком. Глобальные переменные directx и directy
содержат координаты спрайта, управляемого игроком. Значения этих величин
используются компьютером для генерации перемещения своего спрайта. Переменная­признак
it содержит информацию о том, кто в данный момент находится в режиме
догоняющего. Она может принимать одно из двух значений, описанных в
макроопределении #define: COMPUTER или HUMAN.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;tab-stops:259.0pt 349.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>Главная<span
style="mso-spacerun: yes">   </span>программа<span style="mso-spacerun: yes">  
</span>работает<span style='mso-tab-count:1'>                                </span>циклически.<span
style='mso-tab-count:1'>                 </span>На<span style="mso-spacerun:
yes">   </span>экране

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>отображается<span
style="mso-spacerun: yes">  </span>текущий<span style="mso-spacerun: yes"> 
</span>счет.<span style="mso-spacerun: yes">  </span>После<span
style="mso-spacerun: yes">  </span>этого<span style="mso-spacerun: yes"> 
</span>проверяется,<span style="mso-spacerun: yes">  </span>была ли

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>нажата<span
style="mso-spacerun: yes">  </span>какая-либо<span style="mso-spacerun: yes"> 
</span>клавиша.<span style="mso-spacerun: yes">   </span>Если<span
style="mso-spacerun: yes">   </span>клавиша<span style="mso-spacerun: yes">  
</span>была<span style="mso-spacerun: yes">  </span>нажата,<span
style="mso-spacerun: yes">  </span>то

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>определяется ее<span
style="mso-spacerun: yes">  </span>код и производится<span style="mso-spacerun:
yes">  </span>заданное перемещение спрайта

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>игрока.<span
style="mso-spacerun: yes">  </span>Обратите<span style="mso-spacerun: yes"> 
</span>внимание<span style="mso-spacerun: yes">  </span>на<span
style="mso-spacerun: yes">  </span>то,<span style="mso-spacerun: yes"> 
</span>что в<span style="mso-spacerun: yes">  </span>данной программе нет

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>режима ожидания<span
style="mso-spacerun: yes">  </span>нажатия клавиши игроком.<span
style="mso-spacerun: yes">  </span>Поэтому,<span style="mso-spacerun: yes"> 
</span>не смотря на

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>то,<span
style="mso-spacerun: yes">  </span>что игрок<span style="mso-spacerun: yes"> 
</span>не<span style="mso-spacerun: yes">  </span>нажимает<span
style="mso-spacerun: yes">  </span>клавиш,<span style="mso-spacerun: yes"> 
</span>компьютер<span style="mso-spacerun: yes">  </span>продолжает свою

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>работу,<span
style="mso-spacerun: yes">  </span>и спрайт игрока продолжает указанное<span
style="mso-spacerun: yes">  </span>перемещение до тех

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>пор,<span
style="mso-spacerun: yes">  </span>пока не будет нажата другая клавиша. Такое
движение спрайта

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:27.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>обеспечивает достаточно высокую
динамичность игры.

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>После очередного перемещения спрайта игрока, компьютер
генерирует движение собственного спрайта, если это необходимо. Обратите
внимание на то, что для генерации движения спрайта используются различные
функции в зависимости от того в режиме догоняющего или догоняемого находится
спрайт. При реализации очередного перемещения собственного спрайта, компьютер
так же проверяет его корректность.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
266.4pt;margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt'>Рассмотрим некоторые
программы, используемые в этой игре. 
<!--<br><br><a href="#top">наверх</a>-->
<p><div align="center"><b><font size="+1"><i><a name="5-11">Программа генерации движения спрайта компьютера.
</a></i></font></b></div></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Если спрайт компьютера находится в режиме догоняющего,
то для генерации очередного его кванта движения используется функция
it_comp_move(). В основном компьютер повторяет стратегию движения пользователя.
Движение его спрайта отклоняется из-за того, что он должен обходить
объекты-препятствия. Однако спрайт компьютера может игнорировать некоторые
объекты, что позволяет выровнять баланс игры.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
22.2pt;margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt'>Приведем текст функции
it_comp_move(). 

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Генерация движения
спрайта компьютера, когда

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:71.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>он в роли догоняющего
*/

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void it_comp_move(ob1,
ob2, human, sides)

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int ob1[][4],
ob2[][4], human[][4], sides;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='margin-right:4.4pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>register int x, y, d; /* d = direction */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>static skip = 0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>skip++;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(skip==3)

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>skip=0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* уменьшение времени
реакции компьютера */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x = 0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>y = 0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* движение к игроку
*/

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(human[0][0]&lt;ob1[0][0])

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x = -1;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(human[0][0]&gt;ob1[0][0])

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:104.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x = 1;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(human[0][1]&lt;ob1[0][1])

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>y = -1;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(human[0][1]&gt;ob1[0][1])

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>y = 1;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(is_legal(ob1, x, y,
sides))

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob1, x,
y, sides);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob2, x,
y, sides);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='margin-right:4.4pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>if(x &amp;&amp; is_legal(ob1, x, 0, sides))

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:104.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='margin-right:4.4pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>update_object(ob1, x, 0, sides);

<p class=MsoNormal align=center style='0cm;margin-right:4.4pt;
22.2pt;margin-left:0cm;text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob2,
x, 0, sides); 

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:104.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(is_legal(ob1, 0, y,
sides))

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob1,
0, y, sides);

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob2,
0, y, sides);

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Заметим, что эта функция меняет положение спрайта в 3
раза медленнее, чем это возможно. Делается такое замедление с целью снижения
быстродействия компьютера до уровня человека.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
11.1pt;margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>Функция, генерирующая движение спрайта в режиме догоняемого,
обеспечивает движение в сторону, противоположную от спрайта игрока. Хотя этот
алгоритм является неоптимальным, он делает игру достаточно привлекательной и
требует от пользователя хорошей реакции.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Генерация движения
спрайта компьютера, когда

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:71.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>он выступает в роли
убегающего */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void it_comp_move(ob1,
ob2, human, sides)

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int ob1[][4],
ob2[][4], human[][4], sides;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='margin-right:4.4pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>register int x, y, d; /* d = direction */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>static skip = 0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>skip++;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(skip==3)

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>skip=0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* уменьшение времени
реакции компьютера */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x = 0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>y = 0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* движение к игроку
*/

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(human[0][0]&lt;ob1[0][0])

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x = -1;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(human[0][0]&gt;ob1[0][0])

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:104.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x = 1;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(human[0][1]&lt;ob1[0][1])

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>y = -1;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(human[0][1]&gt;ob1[0][1])

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>y = 1;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(is_legal(ob1, x, y,
sides))

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob1, x,
y, sides);

<p class=MsoNormal style='0cm;margin-right:4.4pt;22.2pt;
margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>update_object(ob2, x, y, sides); 

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(x &amp;&amp;
is_legal(ob1, x, 0, sides))

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob1,
x, 0, sides);

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob2,
x, 0, sides);

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(is_legal(ob1, 0, y,
sides))

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob1,
0, y, sides);

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob2,
0, y, sides);

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* генерация движения
спрайта компьютера, когда

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;tab-stops:161.5pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>он
убегает<span style='mso-tab-count:1'>                    </span>*/

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void
not_it_comp_move(ob1, ob2, dx, dy, sides)

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int ob1[][4],
ob2[][4];

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int dx, dy; /*
направление последнего перемещения

<p class=MsoNormal style='margin-left:126.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>&quot;человека&quot;
*/

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int sides;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>register int x, y, d;

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>static skip = 1;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>skip++;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (skip==3)

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>skip = 0;

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return;

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* уменьшение времени
реакции компьютера в 3 раза */

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x = 0;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>y = 0;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* перемещение в
противоположном направлении */

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x = -dx;

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>y = -dy;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (is_legal(ob1, x,
y, sides))

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>updаte_object(ob1, x,
y, sides);

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>updаte_object(ob2, x,
y, sides);

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>if
(x &amp;&amp; is_legal(ob1, x, 0, sides))

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob1,
x, 0, sides);

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob2,
x, 0, sides);

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='22.2pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>else if (is_legal(ob1, 0, y, sides))<span
style="mso-spacerun: yes">  </span>

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob1, 0,
y, sides);

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob2, 0,
y, sides);

<p class=MsoNormal align=center style='22.2pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><span
style="mso-spacerun: yes"> </span>

<p class=MsoNormal style='0cm;margin-right:4.4pt;510.6pt;
margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>Эта
функция так же как и предыдущая, работает с 3-кратным замедлением. 
<!--<br><br><a href="#top">наверх</a>-->
<p><div align="center"><b><font size="+1"><i><a name="5-12">Программа контроля касания спрайтов.  </a></i></font></b></div></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>В этой игре режимы спрайтов изменяются на
противоположные в том случае, если координаты хотя бы одной точки догоняющего
спрайта совпадут с координатами любой точкой догоняемого. Правила игры могут
быть изменены таким образом, что изменение режима произойдет лишь в случае
полного совмещения спрайтов. Но эта довольно-таки сложная задача для многих
игроков. Приведенная ниже функция tag() возвращает значение 1, если спрайты
столкнулись, и 0 - в противном случае.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Проверяет есть ли
контакт между спрайтами */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>tag(ob1, ob2)

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int ob1[][4],
ob2[][4];

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>register int i;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* для смены амплуа
необходимо, чтобы спрайты

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:99.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>имели хотя бы одну
общую точку растра */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for (i= -1; i&lt;2;
i++)

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if
(ob1[0][0]==ob2[0][0]+i &amp;&amp; ob1[0][1]==ob2[0][2]+i)

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:104.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 1;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;310.8pt;
margin-left:27.5pt;text-indent:27.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>Вы можете внести
изменения в функцию tag() и установить свои правила контроля режимов спрайтов. 
<!--<br><br><a href="#top">наверх</a>-->
<p><div align="center"><b><font size="+1"><i><a name="5-13">Полный текст программы игры TAG. </a></i></font></b></div></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>В
данном разделе приведен текст программы игры TAG, похожей на русские
&quot;салочки&quot;. Вы можете ввести ее в свой компьютер, если он снабжен
графическим адаптером.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
11.1pt;margin-left:38.5pt;mso-hyphenate:none;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt'>/* Пример мультипликации
игры &quot;салочки&quot;

<p class=MsoNormal style='0cm;margin-right:79.2pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>Объектом в игре
является &quot;человек&quot;, который догоняет другого &quot;человека&quot;.

<p class=MsoNormal style='11.1pt;margin-right:48.4pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>Ваш
&quot;человек&quot;- зеленый,&quot;человек&quot; компьютера­желтый. Все, что
окрашено в красный цвет, пересекать нельзя.

<p class=MsoNormal style='11.1pt;margin-right:88.0pt;
0cm;margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>Для смены ролей
догоняющего и догоняемого необходимо, чтобы &quot;люди&quot; пересеклись хотя
бы в одной точке растра<span style="mso-spacerun: yes">  </span>*/

<p class=MsoNormal style='11.1pt;margin-right:88.0pt;
0cm;margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>#define COMPUTER 0

<p class=MsoNormal style='0cm;margin-right:88.0pt;
11.1pt;margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt'>#define HUMAN 1

<p class=MsoNormal style='0cm;margin-right:88.0pt;
0cm;margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>#define IDLE 0

<p class=MsoNormal style='0cm;margin-right:88.0pt;
0cm;margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>#define DOWN 1

<p class=MsoNormal style='0cm;margin-right:88.0pt;
0cm;margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>#define UP -1

<p class=MsoNormal style='0cm;margin-right:88.0pt;
0cm;margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>#define LEFT -1

<p class=MsoNormal style='0cm;margin-right:88.0pt;
11.1pt;margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt'>#define RIGHT 1

<p class=MsoNormal style='0cm;margin-right:88.0pt;
0cm;margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>#include
&quot;dos.h&quot;

<p class=MsoNormal style='0cm;margin-right:88.0pt;
0cm;margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>#include
&quot;stdio.h&quot;

<p class=MsoNormal style='0cm;margin-right:88.0pt;
0cm;margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>#include
&quot;math.h&quot;

<p class=MsoNormal style='0cm;margin-right:88.0pt;
11.1pt;margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt'>#include &quot;time.h&quot;

<p class=MsoNormal style='0cm;margin-right:88.0pt;
0cm;margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void mode(), line();

<p class=MsoNormal style='0cm;margin-right:88.0pt;
0cm;margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void mempoint(),
palette(), xhairs();

<p class=MsoNormal style='0cm;margin-right:88.0pt;
0cm;margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void
goto_xy(),show_score();

<p class=MsoNormal style='0cm;margin-right:88.0pt;
0cm;margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void
display_object(),update_object();

<p class=MsoNormal style='0cm;margin-right:114.4pt;
0cm;margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void
it_comp_move(),not_it_comp_move(); void save_pic(), load_pic(); unsigned char
read_point();

<p class=MsoNormal style='11.1pt;margin-right:114.4pt;
0cm;margin-left:60.5pt;.0001pt;text-indent:-16.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>int human[4][4] =<span style="mso-spacerun: yes">  </span>/* ваш спрайт
*/ 1,6,6,6,

<p class=MsoNormal style='0cm;margin-right:114.4pt;
0cm;margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>4,2,3,9,

<p class=MsoNormal style='0cm;margin-right:114.4pt;
0cm;margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>9,1,6,6,

<p class=MsoNormal style='0cm;margin-right:114.4pt;
0cm;margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>9,11,6,6

<p class=MsoNormal style='11.1pt;margin-right:114.4pt;
0cm;margin-left:60.5pt;.0001pt;text-indent:-16.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>;

<p class=MsoNormal style='0cm;margin-right:114.4pt;
11.1pt;margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt'>int human2[4][4] = 

<p class=MsoNormal style='0cm;margin-right:114.4pt;
0cm;margin-left:60.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>1,6,6,6,

<p class=MsoNormal style='0cm;margin-right:114.4pt;
22.2pt;margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt'>4,2,3,9, 

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>9,3,6,6,

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>9,9,6,6

<p class=MsoNormal style='0cm;margin-right:114.4pt;
11.1pt;margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt'>;

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int computer[4][4]
=<span style="mso-spacerun: yes">  </span>/* спрайт компьютера */

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>180,6,185,6,

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>183,2,182,9,

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>188,1,185,6,

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>188,11,185,6

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>;

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int computer2[4][4] = 

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>180,6,185,6,

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>183,2,182,9,

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>188,3,185,6,

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>188,9,185,6

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>;

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>int directx,directy; /* направление<span
style="mso-spacerun: yes">  </span>*/

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>main()

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>union k 

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char c[2];

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int i;

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><span
style="mso-spacerun: yes"> </span>key;

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int deltax=0,deltay=0;

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int swaph=0,swapc=0;

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int it=COMPUTER;

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>long
htime,ctime,starttime,curtime;

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int count;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>mode(4);
/* установка 4 режима графики CGA/EGA */

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>palette(0); /* палитра 0 */

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>load_pic(); /* ввод игрового поля */

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>time(&amp;starttime);
/* установка времени */

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>htime=ctime=0;

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>display_object(human,4,1);

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>display_object(computer,4,3);

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>count=0;

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* главный цикл игры
*/

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>do 

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* вычисление текущего
счета<span style="mso-spacerun: yes">  </span>*/

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>time(&amp;curtime);

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>if
(it==COMPUTER) htime+=curtime-starttime;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else
ctime+=curtime-starttime;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>time(&amp;starttime);

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>show_score(it,htime,ctime);

<p class=MsoNormal align=center style='22.2pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>if (bioskey(1))<span style="mso-spacerun: yes"> 
</span>/* если нажата клавиша */ 

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=directy=IDLE;
/* устанавливает

<p class=MsoNormal style='margin-left:170.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>направление
перемещения */

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>key.i = bioskey(0);

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax=0;deltay=0;

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(!key.c[0])
switch(key.c[1]) 

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 75: /* влево */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directy=LEFT;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 77: /* вправо */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay=1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directy=RIGHT;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 72: /* вверх */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=UP;

<p class=MsoNormal style='margin-left:137.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=UP;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 80: /* вниз */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax=1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=DOWN;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>case
71: /* вверх и влево */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directy=LEFT;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=UP;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>case
73: /* вверх и вправо */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay=1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directy=RIGHT;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax=-1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=UP;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>case 79: /* вниз и
влево */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay= -1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directy=LEFT;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax=1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=DOWN;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>case
81: /* вниз и вправо */

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltay=1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directy=RIGHT;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>deltax=1;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>directx=DOWN;

<p class=MsoNormal style='margin-left:132.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>break;

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='22.2pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* смена типа спрайта
игрока<span style="mso-spacerun: yes">  </span>*/

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>if
(!swaph) displаy_object(human,4,1);

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else
displey_object(human2,4,1);

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>if
(is_legal(human,deltax,deltay,4)) 

<p class=MsoNormal style='0cm;margin-right:0cm;22.2pt;
margin-left:110.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>update_object(human,deltax,deltay,4); 

<p class=MsoNormal style='margin-left:110.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(human2,deltax,deltay,4);

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>/*
проверяет: попался ли убегающий */

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>if
(!count &amp;&amp; tag(human,computer)) 

<p class=MsoNormal style='margin-left:110.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>it=!it; /* смена
амплуа */

<p class=MsoNormal style='margin-left:110.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>count=6;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>swaph= !swaph; /*
смена фигур, имитирующих бег */

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>/*
вывод &quot;человека&quot; в новой позиции */

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>if
(!swaph) displаy_object(human,4,1);

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>else displаy_object(human2,4,1);

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (!swapc)
displаy_object(computer,4,3);

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>else displаy_object(computer2,4,3);

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* генерация движения
спрайта компютера */

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (it==COMPUTER)

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>it_comp_move(computer,computer2,human,4);

<p class=MsoNormal style='margin-left:82.5pt;text-indent:11.0pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>else not_it_comp_move(computer,computer2,directx,directy,4);

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (!count &amp;&amp;
tag(human,computer)) 

<p class=MsoNormal style='margin-left:110.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>it= !it;

<p class=MsoNormal style='margin-left:110.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>count=6;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* компьютер догоняет;
изменение координаты Х на 2

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>так, чтобы быстрей
стать догоняемым */

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(is_legal(computer,
2, 0, 4))

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:126.5pt;text-indent:5.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>update_object(computer, 2, 0, 4); update_object(computer2, 2, 0, 4);

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(computer,
-2, 0, 4);

<p class=MsoNormal style='margin-left:115.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(computer2,
-2, 0, 4);

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>swapc = !swapc; /*
заменить тип спрайта */

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* вывод на экран
спрайта компьютера */

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(!swapc)
display_object(computer, 4, 3);

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;tab-stops:154.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>else<span
style='mso-tab-count:1'>                      </span>display_object(computer2,
4, 3);

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(count) count--;

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>while (key.c[0] !='q'
&amp;&amp; htime&lt;999 &amp;&amp; ctime&lt;999);

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>getchar();

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>mode(2);

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(ctime&gt;htime)

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>printf(&quot;Компьютер
выиграл!&quot;);

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>printf(&quot;Вы
победили!&quot;);

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Вывод на экран
терминала счета */

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void shou_score(it,
htime, ctime)

<p class=MsoNormal style='0cm;margin-right:0cm;22.2pt;
margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>int it; 


<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>long htime, ctime;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>goto_xy(24, 6);

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(it==COMPUTER)

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>printf(&quot;ВЫ:%ld&quot;,
htime);

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>printf(&quot;вы:%ld&quot;,
htime);

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>goto_xy(24, 26);

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(it==HUMAN)

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>printf(&quot;Я:%ld&quot;,
ctime);

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>printf(&quot;я:%ld&quot;,
ctime);

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Выбор палитры */

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void palette(pnum)

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int pnum;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>union REGS r;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>r.h.bh
= 1; /* код 4-го графического режима */

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>r.h.bl = pnum;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>r.h.ah = 11;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int86(0x10, &amp;r,
&amp;r);

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Выбор режима */

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void mode(mode_code)

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int mode_code;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>union REGS r;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>r.h.al = mode_code;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>r.h.ah = 0;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int86(0x10, &amp;r,
&amp;r);

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:33.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* изображение линии заданного
цвета с использованием

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>алгоритма Брезенхама
*/

<p class=MsoNormal style='margin-left:38.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void
line(startx,starty,endx,endy,color)

<p class=MsoNormal style='margin-left:38.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int
startx,starty,endx,endy,color;

<p class=MsoNormal style='margin-left:38.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>register int
t,distance;

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int
x=0,y=0,delta_x,delta_y;

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>int incx,incy;

<p class=MsoNormal style='margin-left:38.5pt;mso-hyphenate:none;tab-stops:362.5pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>/*
вычисление расстояния в обоих направлениях<span style='mso-tab-count:1'>                                                      </span>*/

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>delta_x=endx-startx;

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>delta_y=endy-starty;

<p class=MsoNormal style='margin-left:38.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* определение<span
style="mso-spacerun: yes">  </span>направления<span style="mso-spacerun: yes"> 
</span>шага,<span style="mso-spacerun: yes">  </span>шаг<span
style="mso-spacerun: yes">  </span>вычисляется<span style="mso-spacerun: yes"> 
</span>либо<span style="mso-spacerun: yes">   </span>по

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>вертикальной,<span
style="mso-spacerun: yes">  </span>либо<span style="mso-spacerun: yes"> 
</span>горизонтальной<span style="mso-spacerun: yes">  </span>линии */

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (delta_x&gt;0)
incx=1;

<p class=MsoNormal style='0cm;margin-right:0cm;22.2pt;
margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>else if (delta_x==0) incx=0; else incx=-1;


<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (delta_y&gt;0)
incy=1;

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else<span
style="mso-spacerun: yes">  </span>if (delta_y==0) incy=0;

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>else<span style="mso-spacerun: yes"> 
</span>incy=-1;

<p class=MsoNormal style='margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* определение какое
расстояние больше */

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>delta_x=abs(delta_x);

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>delta_y=abs(delta_y);

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if
(delta_x&gt;delta_y) distance=delta_x;

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>else distance=delta_y;

<p class=MsoNormal style='margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* изображение линии
*/

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for (t=0;
t&lt;=distance+1; t++) 

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>mempoint(startx,starty,color);

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x+=delta_x;

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>y+=delta_y;

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (x&gt;distance) 

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x-=distance;

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>startx+=incx;

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (y&gt;distance) 

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>y-=distance;

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>starty+=incy;

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:38.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><span
style="mso-spacerun: yes"> </span>

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>/* запись точки в CGA/EGA */

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void
mempoint(x,y,color_code)

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int x,y,color_code;

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>union mask 

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char c[2];

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int i;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><span
style="mso-spacerun: yes"> </span>bit_mask;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int
i,index,bit_position;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>unsigned char t;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char xor; /*
&quot;исключающее ИЛИ&quot; цвета в случае его

<p class=MsoNormal style='margin-left:143.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>изменения */

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char far *ptr=(char
far *) 0xB8000000; /* точка в

<p class=MsoNormal style='margin-left:66.0pt;text-indent:209.0pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>памяти CGA */ bit_mask.i=0xFF3F; /* 11111111 00111111 в

<p class=MsoNormal style='margin-left:187.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>двоичном виде */

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (x&lt;0 || x&gt;199
|| y&lt;0 || y&gt;319) return;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>xor=color_code &amp;
128; /* проверка, устанавливался ли

<p class=MsoNormal style='margin-left:66.0pt;text-indent:137.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>режим &quot;исключающего ИЛИ&quot; */ color_code=color_code &amp; 127;
/* маска старших битов */

<p class=MsoNormal align=center style='11.1pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>/*<span style="mso-spacerun: yes">  </span>установка
битовой маски и битов режима цвета

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>в правую позицию */

<p class=MsoNormal align=center style='22.2pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>bit_position=y%4; /* вычисление нужной позиции 

<p class=MsoNormal style='margin-left:71.5pt;text-indent:115.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>в байте */ color_code&lt;&lt;=2*(3-bit_position); /* сдвиг кода цвета

<p class=MsoNormal style='margin-left:71.5pt;text-indent:148.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>в нужную позицию */ bit_mask.i&gt;&gt;=2*bit_position; /* сдвиг битовой
маски в

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:231.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>нужную позицию */

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:71.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>/* определение требуемого байта в памяти
терминала */

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>index=x*40+(y%4);

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (x%2) index+=8152;
/* если нечетный, используется

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:214.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>второй блок */

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>/* запись цвета */

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>if
(!xor)<span style="mso-spacerun: yes">   </span>/* режим изменения цвета */

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>t=*(ptr+index) &amp;
bit_mask.c[0];

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>*(ptr+index)=t|color_code;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else 

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>t=*(ptr+index) |
(char)0;

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>*(ptr+index)=t &amp;
color_code;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:44.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* чтение байта из
оперативной памяти CGA/EGA */

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>unsigned char
read_point(x,y)

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int x,y;

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>union mask 

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char c[2];

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int i;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><span
style="mso-spacerun: yes"> </span>bit_mask;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int
i,index,bit_position;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>unsigned char t;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char xor; /*
&quot;исключающее ИЛИ&quot; цвета в случае его

<p class=MsoNormal style='margin-left:143.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>изменения */

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char far *ptr=(char
far *) 0xB8000000; /* точка в

<p class=MsoNormal style='margin-left:66.0pt;text-indent:209.0pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>памяти CGA */ bit_mask.i=3; /* 11111111 00111111 в

<p class=MsoNormal style='margin-left:187.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>двоичном виде */

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>if (x&lt;0 || x&gt;199 || y&lt;0 ||
y&gt;319) return 0;

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>/*<span
style="mso-spacerun: yes">  </span>установка битовой маски и битов режима цвета

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>в правую позицию */

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>bit_position=y%4;
/* вычисление нужной позиции

<p class=MsoNormal style='margin-left:71.5pt;text-indent:115.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>в байте */ bit_mask.i&lt;&lt;=2*(3-bit_position);

<p class=MsoNormal style='11.1pt;margin-right:0cm;
0cm;margin-left:71.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* определение
требуемого байта в памяти терминала */

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>index=x*40+(y&gt;&gt;4);

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (x%2) index+=8152;
/* если нечетный, используется

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:214.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>второй блок */

<p class=MsoNormal style='0cm;margin-right:0cm;22.2pt;
margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>/* запись цвета */ 

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>t=*(ptr+index) &amp;
bit_mask.c[0];

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>t&gt;&gt;=2*(3-bit_position);

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return t;

<p class=MsoNormal style='margin-left:49.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:38.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>/* загрузка изображения */

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void load_pic()

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char fname[80];

<p class=MsoNormal style='0cm;margin-right:176.0pt;
0cm;margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>FILE *fp; register int
i,j;

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
0cm;margin-left:291.5pt;.0001pt;text-indent:-214.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>char far *ptr=(char far *) 0xB8000000; /* точка в памяти<span
style="mso-spacerun: yes">   </span>CGA<span style="mso-spacerun: yes"> 
</span>*/

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>char far *temp;

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>unsigned char buf[14][80]; /* содержит
образ экрана */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>temp=ptr;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:49.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* сохранение верхних
строк текущего содержимого экрана */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for (i=0;i&lt;14;++i)

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for (j=0;j&lt;80;j+=2)


<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:110.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>buf[i][j]=*temp;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:110.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>buf[i][j+1]=*(temp+8152);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:110.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>*temp=0;
*(temp+8152)=0;/*чистка позиций экрана*/

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:110.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>temp++;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>goto_xy(0,0);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>printf(&quot;Имя
файла:&quot;);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>gets(fname);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if
(!(fp=fopen(fname,&quot;rb&quot;))) 

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>goto_xy(0,0);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>printf(&quot;Файл не
может быть открыт\n&quot;);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>temp=ptr;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:49.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* восстановление
содержимого экрана */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for (i=0;i&lt;14;++i)

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:110.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for (j=0;j&lt;80;j+=2)


<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:126.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>*temp= buf[i][j];

<p class=MsoNormal align=center style='margin-right:4.4pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>*(temp+8125)=buf[i][j+1];

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:126.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>temp++;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:110.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* загрузка
изображения из файла */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for
(i=0;i&lt;8152;i++) 

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:88.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>*ptr=getc(fp); /*
четный байт */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:88.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>*(ptr+8125)=getc(fp);
/* нечетный байт */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:88.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>ptr++;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:77.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>fclose(fp);

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;22.2pt;
margin-left:38.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>/* поместить курсор в заданное положение
*/ 

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void goto_xy(x,y)

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int x,y;

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>r.h.ah=2; /* адресация
курсора */

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>r.h.dl=y; /*
координата столбца */

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>r.h.dh=x; /*
координата строки */

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>r.h.bh=0; /*
видео-страница */

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int86(0x10,&amp;r,&amp;r);

<p class=MsoNormal style='margin-left:60.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>/* отображение объекта на экране */

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void
display_object(ob, sides,cc)

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>double ob[][4];

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int sides,cc;

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>register int i;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for(i=0; i&lt;sides;
i++)

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>line((int)ob[i][0],
(int)ob[i][1],

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>(int)ob[i][2],
(int)ob[i][3], cc|128);

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Смещение
(параллельный перенос) объекта в направлении,

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>определенном x и y

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>*/

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void update_object(ob,
x, y, sides)

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;tab-stops:175.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>int
ob[][4];<span style='mso-tab-count:1'>                                  </span>/*
объект */

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;tab-stops:175.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>int
x, y;<span style='mso-tab-count:1'>                                        </span>/*
направление смещения */

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>register
int sides; /* количество сторон объекта */

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>sides--;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for(; sides&gt;=0;
sides--)

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>ob[sides][0] += x;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>ob[sides][1] += y;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>ob[sides][2] += x;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>ob[sides][3] += y;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* Определение<span
style="mso-spacerun: yes">  </span>допустимости перемещения объекта. Возвращает

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>1, если перемещение
допустимо, 0 - в противном случае */ is_legal(ob, x, y, sides)

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;tab-stops:175.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>int
ob[][4];<span style='mso-tab-count:1'>                                  </span>/*
объект */

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;tab-stops:175.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>int
x, y;<span style='mso-tab-count:1'>                                        </span>/*
шаг перемещения */

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;tab-stops:175.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>int
sides;<span style='mso-tab-count:1'>                                     </span>/*
число сторон объекта */

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(x==0 &amp;&amp;
y==0)

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;tab-stops:173.0pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>return
1;<span style='mso-tab-count:1'>                            </span>/* пустое
перемещение всегда допустимо*/

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>sides--;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for(; sides&gt;=0;
sides--)

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='22.2pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>/* контроль выхода за допустимую область */ 

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>if(ob[sides][0]+x&gt;199
|| ob[sides][1]+y&gt;319)

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 0;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(ob[sides][2]+x&lt;0
|| ob[sides][3]+y&lt;0)

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 0;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(read_point(ob[sides][0]+x,
ob[sides][1]+y)==2)

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 0;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(read_point(ob[sides][2]+x,
ob[sides][3]+y)==2)

<p class=MsoNormal style='margin-left:88.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 0;

<p class=MsoNormal style='margin-left:77.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 1;

<p class=MsoNormal style='margin-left:66.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;text-align:justify;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>/*
генерация движения спрайта компьютера, когда он догоняет */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:66.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void
it_comp_move(ob1,<span style="mso-spacerun: yes">  </span>ob2,<span
style="mso-spacerun: yes">  </span>human, sides)

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:66.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int ob1[][4],ob2[][4],
human[][4], sides;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='margin-right:4.4pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>register int x, y, d; /* d = direction */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>static skip = 0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>skip++;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(skip==3)

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>skip=0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* уменьшение времени
реакции компютера */

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x = 0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>y = 0;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:44.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* движение к игроку
*/

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:55.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(human[0][0]&lt;ob1[0][0])

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x = -1;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(human[0][0]&gt;ob1[0][0])

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:104.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x = 1;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(human[0][1]&lt;ob1[0][1])

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>y = -1;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(human[0][1]&gt;ob1[0][1])

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>y = 1;

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(is_legal(ob1, x, y,
sides))

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob1, x,
y, sides);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob2, x,
y, sides);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='margin-right:4.4pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>if(x &amp;&amp; is_legal(ob1, x, 0, sides))

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:104.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='margin-right:4.4pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>update_object(ob1, x, 0, sides);

<p class=MsoNormal align=center style='margin-right:4.4pt;text-align:center;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>update_object(ob2, x, 0, sides);

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:104.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;22.2pt;
margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>else 

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if(is_legal(ob1, 0, y,
sides))

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob1,
0, y, sides);

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>update_object(ob2,
0, y, sides);

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:93.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:82.5pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* генерация движения
спрайта компьютера, когда

<p class=MsoNormal style='margin-left:71.5pt;mso-hyphenate:none;tab-stops:161.5pt;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>он
убегает<span style='mso-tab-count:1'>                    </span>*/

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>void
not_it_comp_move(ob1, ob2, dx, dy, sides)

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int ob1[][4],
ob2[][4];

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int dx, dy; /*
направление последнего перемещения

<p class=MsoNormal style='margin-left:126.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>&quot;человека&quot;
*/

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>int sides;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>register int x, y, d;

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>static skip = 1;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>skip++;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (skip==3)

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>skip = 0;

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return;

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* уменьшение времени
реакции компьютера в 3 раза */

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x = 0;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>y = 0;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* перемещение в
противоположном направлении */

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>x = -dx;

<p class=MsoNormal style='0cm;margin-right:0cm;11.1pt;
margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>y = -dy;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if (is_legal(ob1, x,
y, sides))

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>updаte_object(ob1, x,
y, sides);

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>updаte_object(ob2, x,
y, sides);

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>else

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>if
(x &amp;&amp; is_legal(ob1, x, 0, sides))

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>updаte_object(ob1,
x, 0, sides);

<p class=MsoNormal align=center style='text-align:center;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>updаte_object(ob2,
x, 0, sides);

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='0cm;margin-right:70.4pt;
0cm;margin-left:115.5pt;.0001pt;text-indent:-22.0pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>else if (is_legal(ob1, 0, y, sides))<span style="mso-spacerun: yes"> 
</span>updаte_object(ob1, 0, y, sides); updаte_object(ob2, 0, y, sides); 

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/*<span
style="mso-spacerun: yes">  </span>проверяет наличие контакта между спрайтами
*/

<p class=MsoNormal style='margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>tag(ob1, ob2)

<p class=MsoNormal style='0cm;margin-right:0cm;22.2pt;
margin-left:55.0pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>int ob1[][4], ob2[][4]; 

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]>

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>register int i;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>/* для смены амплуа
необходимо, чтобы спрайты

<p class=MsoNormal style='margin-left:99.0pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>имели хотя бы одну
общую точку растра */

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>for (i=-1; i&lt;2;
i++)

<p class=MsoNormal style='margin-left:93.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>if
(ob1[0][0]==ob2[0][0]+i &amp;&amp; ob1[0][1]==ob2[0][2]+i)

<p class=MsoNormal style='margin-left:104.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 1;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>return 0;

<p class=MsoNormal style='margin-left:82.5pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'><span
style="mso-spacerun: yes"> </span>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Для использования игры вы должны создать одно или
несколько игровых полей, используя функции, описанные в главе 4. Используйте
красный цвет для изображения препятствий. Желтый и зеленый цвета можно
использовать для фона. Эти цвета не несут нагрузки, поэтому могут
использоваться в декоративных целях. На рисунках 5-1 и 5-2 показаны два
варианта игровых полей в таком виде, в котором они отображаются на экране
вашего терминала.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
11.1pt;margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>Быстродействие компьютеров, таких моделей как AT или PS/2 моделей 50,
60 или 80, вполне достаточно для данной игры. Темп игры будет несколько снижен
на обычном компьютере PC. Однако вам уже известно, как может быть повышена
динамичность игры.

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:27.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>_________________________________________________________________

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:33.0pt;.0001pt;mso-hyphenate:none;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt'>Рис. 5-1 на стр. 205
имеющимися средствами воспроизведен быть не может. (Ред. пер. И.Бычковский.)

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:27.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>_________________________________________________________________

<p class=MsoNormal style='0cm;margin-right:4.4pt;2.2pt;
margin-left:27.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>Рис. 5-1. Первое игровое поле видеоигры
&quot;салочки&quot; 

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:27.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>_________________________________________________________________

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-indent:5.5pt;mso-hyphenate:none;
mso-layout-grid-align:none;text-autospace:none'><span style='font-size:10.0pt'>Рис.
5-2 на стр. 205 имеющимися средствами воспроизведен быть не может. (Ред. пер.
И.Бычковский.)

<p class=MsoNormal style='0cm;margin-right:4.4pt;11.1pt;
margin-left:27.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>_________________________________________________________________

<p class=MsoNormal style='0cm;margin-right:4.4pt;7.6pt;
margin-left:27.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:
none'><span style='font-size:10.0pt'>Рис. 5-2. Второе игровое поле видеоигры
&quot;салочки&quot; 
<!--<!--<br><br><a href="#top">наверх</a>-->-->
<p><div align="center"><b><font size="+1"><i><a name="5-14">Некоторые соображения по возможной модификации программы 
</a></i></font></b></div></p>

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Возможно, вы со временем захотите создать свою
видеоигру, взяв, однако, за основу рассмотренную здесь игру TAG. В этом случае
в можете, например, изменить траекторию движения спрайта компьютера заставив
его двигаться вокруг какого-то объекта (&quot;охранять&quot; его). Интересным
дополнением к программе будет возможность изменять внешний вид каждого
объекта-участника игры в зависимости от каких-либо условий. Кстати, решение
этой задачи не требует от вас каких-либо дополнительных усилий, так как каждое
изображение спрайта можно хранить в видеопамяти, а все необходимые подпрограммы
для работы с ней у вас уже есть.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;
0cm;margin-left:27.5pt;.0001pt;text-align:justify;text-indent:
27.5pt;mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Другим, также представляющим интерес дополнением,
может стать наделение компьютера возможностью &quot;прогнозировать&quot;
направление движения спрайта человека. В самом деле, вы ведь знаете, куда можно
двигаться, а куда нельзя, в зависимости от ситуации на экране дисплея. Так
научите это делать и компьютер! Поскольку игровое поле статично, то решение и
этой задачи не будет представлять сложности.

<p class=MsoNormal style='0cm;margin-right:4.4pt;0cm;
margin-left:27.5pt;.0001pt;text-align:justify;text-indent:27.5pt;
mso-hyphenate:none;mso-layout-grid-align:none;text-autospace:none'><span
style='font-size:10.0pt'>Попробуйте добавить в программу еще один спрайт,
касание которого будет приносить дополнительные очки играющим.

<p class=MsoNormal style='11.1pt;margin-right:4.4pt;margin-left:27.5pt;text-align:justify;text-indent:27.5pt;mso-hyphenate:
none;mso-layout-grid-align:none;text-autospace:none'><span style='font-size:
10.0pt'>И, наконец, последняя мысль: процесс разработки любой видеоигры
начинайте с создания ее простейшего &quot;скелета&quot;. И лишь после того, как
ваш &quot;скелет&quot; &quot;задышал&quot;, начинайте наращивание возможностей
своей игры. Всегда стремитесь идти путем от простого к сложному. 

</body>
</html><!--Saved from http://mymanual.narod.ru>
