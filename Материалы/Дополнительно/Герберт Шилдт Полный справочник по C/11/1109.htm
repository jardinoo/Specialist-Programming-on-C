<HTML><HEAD>
<TITLE>Объявление переменных внутри цикла for</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=Windows-1251"> 
<LINK REL=STYLESHEET TYPE="text/css" HREF="../work/css.css">
</HEAD><BODY>
<A href="../main.htm#11">Содержание</A> | <A href="1108.htm">&lt;&lt;&lt;</A> | <A href="1110.htm">&gt;&gt;&gt;</A><HR>
<H1>Объявление переменных внутри цикла for</H1>
<P class="tj">С99 расширяет возможности цикла <KBD>for</KBD>, разрешая объявление одной или нескольких переменных в части инициализации цикла. Область видимости переменной, объявленной таким способом, ограничена блоком программы, управляемым выражением <KBD>for</KBD>. To есть переменная, объявленная внутри цикла <KBD>for</KBD>, будет локализована внутри этого цикла. Эта возможность появилась в языке С потому, что управляющая переменная цикла <KBD>for</KBD> часто необходима только внутри этого цикла. А так как эта переменная локализована внутри цикла, то удается избежать ненужных побочных эффектов.
<P class="tj">Вот пример, в котором переменная объявляется в части инициализации цикла <KBD>for</KBD>:
<PRE>
#include &lt;stdio.h&gt;

int main(void)
{
  // объявить i внутри for
  for(int i=0; i &lt; 10; i++)
    printf("%d ", i);

  return 0;
}
</PRE>
<P class="tj">Здесь переменная <KBD>i</KBD> объявляется внутри цикла <KBD>for</KBD>, а не до начала его работы.
<P class="tj">Как уже говорилось, переменная, объявленная внутри цикла <KBD>for</KBD>, локализуется внутри этого цикла. Проанализируйте следующую программу. Обратите внимание, что переменная <KBD>i</KBD> объявляется дважды: в начале <KBD>main()</KBD> и внутри цикла <KBD>for</KBD>.
<PRE>
#include &lt;stdio.h&gt;

int main(void)
{
  int i = -99;

  // объявить i внутри for
  for(int i=0; i &lt; 10; i++)
    printf("%d ", i);

  printf("\n");
 
  printf("Значение i равно: %d", i); // выводит -99

  return 0;
}
</PRE>
<P class="tj">Эта программа выводит следующее:
<PRE>0 1 2 3 4 5 6 7 8 9
Значение i равно -99</PRE>
<P class="tj">Как показывает вывод, как только заканчивается цикл <KBD>for</KBD>, заканчивается и область видимости переменной <KBD>i</KBD>, объявленной внутри этого цикла. Таким образом, последнее выражение <KBD>printf()</KBD> выводит <KBD>-99</KBD>, то есть значение <KBD>i</KBD>, объявленное в начале <KBD>main()</KBD>.
<P class="tj">Возможность объявлять управляющие переменные внутри цикла <KBD>for</KBD>, уже довольнотаки долгое время имеется в языке C++, и теперь такая возможность используется достаточно широко. Есть надежда, что большинство С-программистов будут делать то же самое.
<HR><A href="../main.htm#11">Содержание</A> | <A href="1108.htm">&lt;&lt;&lt;</A> | <A href="1110.htm">&gt;&gt;&gt;</A>
</BODY></HTML>