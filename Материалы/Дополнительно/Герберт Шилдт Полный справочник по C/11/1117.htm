<HTML><HEAD>
<TITLE>Неявный int больше не поддерживается</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=Windows-1251"> 
<LINK REL=STYLESHEET TYPE="text/css" HREF="../work/css.css">
</HEAD><BODY>
<A href="../main.htm#11">Содержание</A> | <A href="1116.htm">&lt;&lt;&lt;</A> | <A href="1118.htm">&gt;&gt;&gt;</A><HR>
<H1>Неявный int больше не поддерживается</H1>
<P class="tj">Несколько лет назад язык C++ отменил правило неявного <KBD>int</KBD>, а с приходом С99 этому примеру последовал и язык С. В С89 правило неявного <KBD>int</KBD> гласит, что если явный спецификатор типа отсутствует, то подразумевается тип <KBD>int</KBD>. Больше всего это правило применялось к возвращаемому типу функций. В прошлом С-программисты часто пропускали <KBD>int</KBD> при объявлении функций, которые возвращали значение такого типа. Например, в ранние времена языка С функцию <KBD>main()</KBD> часто писали примерно так:
<PRE>
main ()
{
  /* ... */
}
</PRE>
<P class="tj">При таком подходе возвращаемым типом по умолчанию просто считался <KBD>int</KBD>. В С99 (да и в C++) такого правила присвоения типа по умолчанию больше нет, и <KBD>int</KBD> приходится указывать явно, что и делается во всех программах, приведенных в этой книге.
<P class="tj">А вот другой пример. В прошлом функция, такая как
<PRE>
int isEven(int val)
{
  return !(val%2);
}
</PRE>
<P class="t">часто писалась примерно так:
<PRE>
/* по умолчанию используется целый тип */
isEven(int val) 
{
  return !(val%2);
}
</PRE>
<P class="tj">В первом экземпляре кода возвращаемый тип <KBD>int</KBD> указывается явно. Во втором — это подразумевается по умолчанию.
<P class="tj">Правило неявного <KBD>int</KBD> применялось не только к возвращаемым значениям функций (хотя здесь оно применялось чаще всего). Например, в С89 и более ранних версиях функцию <KBD>isEven()</KBD> можно было писать примерно еще и так:
<PRE>
isEven(const val) 
{
  return !(val%2);
}
</PRE>
<P class="tj">Здесь параметр <KBD>val</KBD> также имеет по умолчанию тип <KBD>int</KBD> — в этом случае <KBD>const int</KBD>. И опять, это присвоение типа по умолчанию <KBD>int</KBD> не поддерживается в Стандарте С99.</P>
<TABLE align=center border=1 width=100%>
<TR><TD align=center bgcolor=skyblue width=7%>На заметку<TD class="tj">В действительности компилятор, совместимый с С99, может принять код, содержащий неявные типы <KBD>int</KBD>, даже после того, как выдаст предупреждение об ошибке. Так что иногда можно компилировать и старый код. Однако компилятор, совместимый с С99, не обязан принимать такой код.
</TABLE>
<HR><A href="../main.htm#11">Содержание</A> | <A href="1116.htm">&lt;&lt;&lt;</A> | <A href="1118.htm">&gt;&gt;&gt;</A>
</BODY></HTML>