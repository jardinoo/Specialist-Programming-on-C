<HTML><HEAD>
<TITLE>Правило "неявного int"</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=Windows-1251"> 
<LINK REL=STYLESHEET TYPE="text/css" HREF="../work/css.css">
</HEAD><BODY>
<A href="../main.htm#06">Содержание</A> | <A href="0609.htm">&lt;&lt;&lt;</A> | <A href="0611.htm">&gt;&gt;&gt;</A><HR>
<H1>Правило "неявного int"</H1>
<P class="tj">Первоначальная версия С отличалась особенностью, которую иногда называют правилом "неявного <KBD>int</KBD>" (а также правилом "<KBD>int</KBD> по умолчанию"). Это правило состоит в том, что если спецификатор базового типа явно не указан, то подразумевается спецификатор <KBD>int</KBD>. Это правило было включено в стандарт С89, но в С99 это правило не вошло. (И, кроме того, не поддерживается в языке C++.) Так как правило "неявного <KBD>int</KBD>" теперь устарело, то в этой книге оно не используется. Однако из-за того, что во многих действующих программах это правило еще используется, то о нем следует немного рассказать.
<P class="tj">Больше всего правило "неявного <KBD>int</KBD>" использовалось при определении типа результата функции, т.е. при определении возвращаемого типа. Много лет назад большинство программистов, писавших программы на С, пользовались этим правилом, когда писали код функций, возвращавших результат типа <KBD>int</KBD>. Поэтому много лет назад такая функция, как
<PRE>
int f(void) {
  /* ... */
  return 0;
}
</PRE>
<P class="tj">часто могла быть написана таким образом:
<PRE>
f(void) { /* int - возвращаемый тип по умолчанию */
  /* ... */
  return 0;
}
</PRE>
<P class="tj">В первом случае возвращаемый тип <KBD>int</KBD> определяется явно. Во втором же — подразумевается по умолчанию.
<P class="tj">Правило "неявного <KBD>int</KBD>" применяется не только к значениям, возвращаемым функциями (хотя это было самое распространенное применение). Например, для С89 и более ранних вариантов С правильной является следующая функция:
<PRE>
/* по умолчанию возвращается тип int,
   такой же тип, как и у параметров a и b */
f(register a, register b) {
  register c; /* переменная c по умолчанию
                 также будет иметь тип int */

  c = a + b;

  printf("%d", c);

  return c;
}
</PRE>
<P class="tj">Здесь возвращаемым типом по умолчанию для <KBD>f()</KBD> является <KBD>int</KBD>; т.е. такой же тип по умолчанию, как и у параметров <KBD>а</KBD> и <KBD>b</KBD>, и у локальной переменной <KBD>c</KBD>.
<P class="tj">Помните, что правило "неявного <KBD>int</KBD>" не поддерживается в С99 или C++. Таким образом, использовать его в программах, совместимых с С89, не рекомендуется. Лучше всего явно определять каждый тип, используемый в вашей программе.
<HR><A href="../main.htm#06">Содержание</A> | <A href="0609.htm">&lt;&lt;&lt;</A> | <A href="0611.htm">&gt;&gt;&gt;</A>
</BODY></HTML>