<HTML><HEAD>
<TITLE>Функция atexit</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=Windows-1251"> 
<LINK REL=STYLESHEET TYPE="text/css" HREF="../work/css.css">
</HEAD><BODY>
<A href="../main.htm#18">Содержание</A> | <A href="18.htm#00">Глава 18</A><HR>
<H1>Функция atexit</H1>
<PRE>
#inelude &lt;stdlib.h&gt;
int atexit(void (*<I>func</I>) (void));
</PRE>
<P class="tj">Функция <KBD>atexit()</KBD> регистрирует функцию, на которую указывает <I>func</I>, как функцию, вызываемую при нормальном завершении программы. (Иными словами, при нормальном завершении программы будет вызвана функция, адресуемая параметром <I>func</I>.) Функция <KBD>atexit()</KBD> возвращает нуль, если задаваемая функция успешно зарегистрирована в качестве функции завершения, а в противном случае она возвращает ненулевое значение.
<P class="tj">Вообще может быть зарегистрировано до 32 функций завершения, которые будут вызываться в порядке, обратном порядку регистрации (т.е. функция, зарегистрированная последней, выполнится первой).
<H2>Пример</H2>
<P class="tj">Эта программа печатает на экране при ее завершении:<PRE>Привет здесь</PRE>
<PRE>
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;

void done(void);

int main(void)
{
  if(atexit(done)) printf("Ошибка в atexit().");

  return 0;
}

void done(void)
{
  printf("Привет здесь");
}
</PRE>
<H2>Зависимые функции</H2>
<A href="exit.htm">exit()</A>  <A href="abort.htm">abort()</A>
<HR><A href="../main.htm#18">Содержание</A> | <A href="18.htm#00">Глава 18</A>
</BODY></HTML>