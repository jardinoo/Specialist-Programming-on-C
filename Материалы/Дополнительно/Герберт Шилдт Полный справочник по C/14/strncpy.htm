<HTML><HEAD>
<TITLE>Функция strncpy</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=Windows-1251"> 
<LINK REL=STYLESHEET TYPE="text/css" HREF="../work/css.css">
</HEAD><BODY>
<A href="../main.htm#14">Содержание</A> | <A href="14.htm#00">Глава 14</A><HR>
<H1>Функция strncpy</H1>
<PRE>
#include &lt;string.h&gt;
char *strncpy(char *<I>str1</I>, const char *<I>str2</I>, size_t <I>count</I>);
</PRE>
<P class="tj">Функция <KBD>strncpy()</KBD> копирует не более <I>count</I> символов из строки, адресуемой параметром <I>str2</I>, в массив, адресуемый параметром <I>str1</I>. Параметр <I>str2</I> должен указывать на строку, заканчивающуюся символом конца строки.
<P class="tj">В версии С99 к параметрам <I>str1</I> и <I>str2</I> применен квалификатор <KBD>restrict</KBD>.
<P class="tj">Если заданные массивы символов перекрываются, поведение функции <KBD>strncpy()</KBD> не определено.
<P class="tj">Если длина строки, адресуемой параметром <I>str2</I>, меньше значения <I>count</I>, то в конец строка - результата <I>str1</I> добавляются "недостающие" нулевые символы.
<P class="tj">Если же длина строки, адресуемой параметром <I>str2</I>, больше значения <I>count</I>, то строка - результат, адресуемая параметром <I>str1</I>, не будет заканчиваться символом конца строки<SUP><A href="#11" name="1">[1]</A></SUP>.
<P class="tj">Функция <KBD>strncpy()</KBD> возвращает значение указателя <I>str1</I>.
<H2>Пример</H2>
<P class="tj">Следующий фрагмент программы копирует не более 79 символов из строки <KBD>str1</KBD> в строку <KBD>str2</KBD>, тем самым гарантируется, что массив не переполнится.
<PRE>
char str1[128], str2[80];

gets(str1);
strncpy(str2, str1, 79); 
</PRE>
<H2>Зависимые функции</H2>
<A href="memcpy.htm">memcpy()</A>  <A href="strchr.htm">strchr()</A>  <A href="strncat.htm">strncat()</A>  <A href="strncmp.htm">strncmp()</A>
<P><IMG src="../work/sup.bmp" alt="----------">
<BLOCKQUOTE>
<P class="tj"><SUP><A href="#1" name="11">[1]</A></SUP>Обратите внимание, что такую "строку " считать полноценной нельзя, ведь некоторые строковые функции работать с подобными строками могут некорректно.
</BLOCKQUOTE>
<HR><A href="../main.htm#14">Содержание</A> | <A href="14.htm#00">Глава 14</A>
</BODY></HTML>