<HTML><HEAD>
<TITLE>Функция ferror</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=Windows-1251"> 
<LINK REL=STYLESHEET TYPE="text/css" HREF="../work/css.css">
</HEAD><BODY>
<A href="../main.htm#13">Содержание</A> | <A href="13.htm#00">Глава 13</A><HR>
<H1>Функция ferror</H1>
<PRE>
#include &lt;stdio.h&gt;
int ferror(FILE *<I>stream</I>);
</PRE>
<P class="tj">Функция <KBD>ferror()</KBD> проверяет наличие ошибки при работе с файлом, связанным с потоком <I>stream</I>. Нулевое значение, возвращаемое этой функцией, говорит о том, что никакой ошибки не обнаружено, а ненулевое значение означает ее наличие.
<P class="tj">Чтобы определить природу ошибки, нужно воспользоваться функцией <KBD>perror()</KBD>.
<H2>Пример</H2>
<P class="tj">Следующий фрагмент программы приводит к аварийному прекращению ее работы при возникновении ошибки.
<PRE>
/*
  Предполагается, что fp указывает на поток,
  открытый для записи.
*/

while(!done) {
  putc(info, fp);
  if(ferror(fp)) {
    printf("Ошибка при работе с файлом\n");
    exit(1);
  }
} 
</PRE>
<H2>Зависимые функции</H2>
<A href="clearerr.htm">clearrer()</A>  <A href="feof.htm">feof()</A>  <A href="perror.htm">perror()</A>
<HR><A href="../main.htm#13">Содержание</A> | <A href="13.htm#00">Глава 13</A>
</BODY></HTML>