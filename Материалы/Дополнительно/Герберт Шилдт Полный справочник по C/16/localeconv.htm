<HTML><HEAD>
<TITLE>Функция localeconv</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=Windows-1251"> 
<LINK REL=STYLESHEET TYPE="text/css" HREF="../work/css.css">
</HEAD><BODY>
<A href="../main.htm#16">Содержание</A> | <A href="16.htm#00">Глава 16</A><HR>
<H1>Функция localeconv</H1>
<PRE>
#include &lt;locale.h&gt;
struct lconv *localeconv(void)
</PRE>
<P class="tj">Функция <KBD>localeconv()</KBD> возвращает указатель на структуру типа <KBD>lconv</KBD>, которая содержит различную информацию о геополитической среде, связанную со способом форматирования чисел. Структура <KBD>lconv</KBD> включает следующие члены:</P>
<TABLE align=center border=1 width=100%>
<TR><TD><KBD>char&nbsp;decimal_point;</KBD><TD>/*  Символ десятичной точки для неденежных значений.  */ 
<TR><TD><KBD>char&nbsp;thousands_sep;</KBD><TD>/*  Разделитель тысяч для неденежных значений.  */
<TR><TD><KBD>char&nbsp;grouping;</KBD><TD>/*  Определяет группирование для неденежных значений.  */
<TR><TD><KBD>char&nbsp;int_curr_symbol;</KBD><TD>/*  Символ международной валюты.  */ 
<TR><TD><KBD>char&nbsp;currency_symbol;</KBD><TD>/*  Символ местной валюты.  */
<TR><TD><KBD>char&nbsp;mon_decimal_point;</KBD><TD>/*  Символ десятичной точки для денежных значений.  */
<TR><TD><KBD>char&nbsp;mon_thousands_sep;</KBD><TD>/*  Разделитель тысяч для денежных значений.  */
<TR><TD><KBD>char&nbsp;mon_grouping;</KBD><TD>/*  Определяет группирование для денежных значений.  */
<TR><TD><KBD>char&nbsp;positive_sign;</KBD><TD>/*  Индикатор положительных денежных значений.  */
<TR><TD><KBD>char&nbsp;negative_sign;</KBD><TD>/*  Индикатор отрицательных денежных значений.  */
<TR><TD><KBD>char&nbsp;int_frac_digits;</KBD><TD>/*  Количество цифр справа от десятичной точки для денежных значений, отображаемых в международном формате.  */
<TR><TD><KBD>char&nbsp;frac_digits;</KBD><TD>/*  Количество цифр справа от десятичной точки для денежных значений, отображаемых в местном формате.  */
<TR><TD><KBD>char&nbsp;p_cs_precedes;</KBD><TD>/*  1 - если символ валюты предшествует положительному значению, 0 - если символ валюты следует за значением. */
<TR><TD><KBD>char&nbsp;р_sep_by_space;</KBD><TD>/*  1 - если символ валюты отделяется от значения пробелом, 0 - в противном случае. В версии С99 содержит разделитель.*/
<TR><TD><KBD>char&nbsp;n_cs_precedes;</KBD><TD>/*  1 - если символ валюты предшествует отрицательному значению, 0 - если символ валюты следует за значением.  */
<TR><TD><KBD>char&nbsp;n_sep_by_space;</KBD><TD>/*  1 - если символ валюты отделяется от отрицательного значения пробелом, 0 - если символ валюты следует за значением. В версии С99 содержит разделитель.  */
<TR><TD><KBD>char&nbsp;p_sign_posn;</KBD><TD>/*  Указывает позицию символа положительного значения.  */
<TR><TD><KBD>char&nbsp;n_sign_posn;</KBD><TD>/*  Указывает позицию символа отрицательного значения.  */

<TR><TD colspan=2 align=center><B>/* Следующие члены добавлены в С99. */</B>

<TR><TD><KBD>char&nbsp;_p_cs_precedes;</KBD><TD>/*  1 - если символ валюты предшествует положительному значению, 0 - если символ валюты следует за значением. Применяется для значений в межд ународном формате.  */
 
<TR><TD><KBD>char&nbsp;_p_sep_by_space;</KBD><TD>/*  Разделитель между символом валюты, знаком и положительным значением. Применяется для значений в международном формате.  */
<TR><TD><KBD>char&nbsp;_n_cs_precedes;</KBD><TD>/*  1 - если символ валюты предшествует отрицательному значению, 0 - если символ валюты следует за значением. Применяется для значений в международном формате.  */
<TR><TD><KBD>char&nbsp;_n_sep_by_space;</KBD><TD>/*  Разделитель между символом валюты, знаком и отрицательным значением. Применяется для значений в международном формате.  */
<TR><TD><KBD>char&nbsp;_p_sign_posn;</KBD><TD>/*  Указывает позицию символа положительного значения. Применяется для значений в международном формате.  */
<TR><TD><KBD>char&nbsp;_n_sign_posn;</KBD><TD>/*  Указывает позицию символа отрицательного значения. Применяется для значений в международном формате.  */
</TABLE>
<P class="tj">Функция <KBD>localeconv()</KBD> возвращает указатель на структуру <KBD>lconv</KBD>. Следует помнить, что содержимое этой структуры изменять нельзя. Обратитесь к документации вашего транслятора для определения специфической информации, касающейся структуры <KBD>lconv</KBD>.
<H2>Пример</H2>
<P class="tj">Следующая программа отображает символ десятичной точки, используемый в текущей локализации:
<PRE>
#include &lt;stdio.h&gt;
#include &lt;locale.h&gt;

int main(void)
{
  struct lconv lc;

  lc = *localeconv();

  printf("В качестве разделителя целой и дробной части в десятичных
          числах используется символ: %s\n", lc.decimal_point);

  return 0;
}
</PRE>
<H2>Родственная функция</H2>
<A href="setlocale.htm">setlocale()</A>
<HR><A href="../main.htm#16">Содержание</A> | <A href="16.htm#00">Глава 16</A>
</BODY></HTML>