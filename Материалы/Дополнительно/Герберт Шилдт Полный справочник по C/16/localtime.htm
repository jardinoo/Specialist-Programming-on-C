<HTML><HEAD>
<TITLE>Функция localtime</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=Windows-1251"> 
<LINK REL=STYLESHEET TYPE="text/css" HREF="../work/css.css">
</HEAD><BODY>
<A href="../main.htm#16">Содержание</A> | <A href="16.htm#00">Глава 16</A><HR>
<H1>Функция localtime</H1>
<PRE>
#include &lt;time.h&gt;
struct tm *localtime(const time_t *<I>time</I>);
</PRE>
<P class="tj">Функция <KBD>localtime()</KBD> возвращает указатель на структуру типа <KBD>tm</KBD>, содержащую время в разделенной на компоненты форме. Время представлено как местное. Указатель <I>time</I> обычно получают с помощью функции <KBD>time()</KBD>.
<P class="tj">Память для структуры, в которой <KBD>localtime()</KBD> сохраняет разделенное на компоненты время, выделяется статически. Поэтому эта структура перезаписывается при каждом вызове функции. Для сохранения содержания структуры, скопируйте ее в какую-нибудь другую область памяти.
<H2>Пример</H2>
<P class="tj">Эта программа печатает местное время и координированное всемирное время системы:
<PRE>
#include &lt;time.h&gt;
#include &lt;stdio.h&gt;

/* Печатать местное и координированное всемирное (UTC) время. */
int main(void)
{
  struct tm *local;
  time_t t;

  t = time(NULL);
  local = localtime(&t);
  printf("Местное время и дата: %s\n", asctime(local));
  local = gmtime(&t);
  printf("Координированное всемирное время (UTC) и дата: %s\n", asctime(local));

  return 0;
}
</PRE>
<H2>Зависимые функции</H2>
<A href="gmtime.htm">gmtime()</A>  <A href="time.htm">time()</A>  <A href="asctime.htm">asctime()</A>
<HR><A href="../main.htm#16">Содержание</A> | <A href="16.htm#00">Глава 16</A> 
</BODY></HTML>